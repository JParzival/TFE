knitr::opts_chunk$set(echo = TRUE)
#install.packages("dplyr")
#install.packages("pryr")
library("dplyr")
library("pryr")
data.champs <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/champs.csv")
data.champs <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/champs.csv")
data.matches <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/matches.csv")
data.participants <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/participants.csv")
data.teambans <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teambans.csv")
data.teamstats <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teamstats.csv")
data.stats1 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats1.csv")
data.stats2 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats2.csv")
data.stats3 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats3.csv")
data.stats1 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats1.txt")
knitr::opts_chunk$set(echo = TRUE)
#install.packages("dplyr")
#install.packages("pryr")
library("dplyr")
library("pryr")
data.champs <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/champs.csv")
data.matches <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/matches.csv")
data.participants <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/participants.csv")
data.teambans <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teambans.csv")
data.teamstats <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teamstats.csv")
data.stats1 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats1.txt")
data.stats2 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats2.txt")
data.stats3 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats3.txt")
data.stats4 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats4.txt")
data.stats5 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats5.txt")
data.stats6 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats6.txt")
data.stats7 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats7.txt")
data.stats8 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats8.txt")
data.stats <- rbind(data.stats1, data.stats2, data.stats3, data.stats4, data.stats5, data.stats6, data.stats7, data.stats8)
# Ahora ya no me hacen falta stats1 y stats2, los borro del environment
remove(data.stats1)
remove(data.stats2)
remove(data.stats3)
remove(data.stats4)
remove(data.stats5)
remove(data.stats6)
remove(data.stats7)
remove(data.stats8)
# Haciendo estas dos uniones tengo a los campeones más accesibles por el nombre
data.participants <- left_join(data.champs, data.participants, by = c("id" = "championid"))
data.teambans <- left_join(data.champs, data.teambans, by = c("id" = "championid"))
# Unimos participantes con stats...
data.participants.stats <- left_join(data.participants, data.stats, by = "id")
# Y ahora hago otra gran unión con los partidos...
data.total <- left_join(data.participants.stats, data.matches, by=c("matchid" = "id"))
# Ahora puedo eliminar las tablas que no necesito al haber unido estas...
remove(data.stats)
remove(data.matches)
remove(data.participants.stats)
remove(data.champs)
remove(data.participants)
head(data.total)
print("El tamaño de data.total es de: ")
object_size(data.total) # Es un dataset de 558 MB
print("El tamaño de data.teambans es de: ")
object_size(data.teambans) # Tabla de 22 MB
print("El tamaño de data.teamstats es de: ")
object_size(data.teamstats) # Tabla de 19.1 MB
View(data.total)
View(data.total)
View(data.total)
View(data.total)
knitr::opts_chunk$set(echo = TRUE)
is.na(x)
is.na(data.total)
na <- is.na(data.total)
na
is.na(data.teambans)
is.na(data.teamstats)
View(data.teamstats)
View(data.teamstats)
data.total <- left_join(data.total, data.teamstats, by=c("matchid" = "matchid"))
#install.packages("dplyr")
#install.packages("pryr")
library("dplyr")
library("pryr")
data.total <- left_join(data.total, data.teamstats, by=c("matchid" = "matchid"))
knitr::opts_chunk$set(echo = TRUE)
#install.packages("dplyr")
#install.packages("pryr")
library("dplyr")
library("pryr")
data.champs <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/champs.csv")
data.matches <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/matches.csv")
data.participants <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/participants.csv")
data.teambans <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teambans.csv")
data.teamstats <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teamstats.csv")
data.stats1 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats1.txt")
data.stats2 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats2.txt")
data.stats3 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats3.txt")
data.stats4 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats4.txt")
data.stats5 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats5.txt")
data.stats6 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats6.txt")
data.stats7 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats7.txt")
data.stats8 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats8.txt")
data.stats <- rbind(data.stats1, data.stats2, data.stats3, data.stats4, data.stats5, data.stats6, data.stats7, data.stats8)
# Ahora ya no me hacen falta stats1 y stats2, los borro del environment
remove(data.stats1)
remove(data.stats2)
remove(data.stats3)
remove(data.stats4)
remove(data.stats5)
remove(data.stats6)
remove(data.stats7)
remove(data.stats8)
# Haciendo estas dos uniones tengo a los campeones más accesibles por el nombre
data.participants <- left_join(data.champs, data.participants, by = c("id" = "championid"))
data.teambans <- left_join(data.champs, data.teambans, by = c("id" = "championid"))
# Unimos participantes con stats...
data.participants.stats <- left_join(data.participants, data.stats, by = "id")
# Y ahora hago otra gran unión con los partidos...
data.total <- left_join(data.participants.stats, data.matches, by=c("matchid" = "id"))
# Ahora puedo eliminar las tablas que no necesito al haber unido estas...
remove(data.stats)
remove(data.matches)
remove(data.participants.stats)
remove(data.champs)
remove(data.participants)
head(data.total)
print("El tamaño de data.total es de: ")
object_size(data.total) # Es un dataset de 558 MB
print("El tamaño de data.teambans es de: ")
object_size(data.teambans) # Tabla de 22 MB
print("El tamaño de data.teamstats es de: ")
object_size(data.teamstats) # Tabla de 19.1 MB
View(data.teambans)
View(data.teambans)
data.team <- left_join(data.teambans, data.teamstats, by=c("matchid" = "id", "teamid" = "teamid"))
data.team <- left_join(data.teambans, data.teamstats, by=c("matchid" = "matchid", "teamid" = "teamid"))
View(data.team)
View(data.team)
remove(data.team)
data.champs <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/champs.csv")
data.matches <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/matches.csv")
data.participants <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/participants.csv")
data.teambans <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teambans.csv")
data.teamstats <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teamstats.csv")
data.stats1 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats1.txt")
data.stats2 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats2.txt")
data.stats3 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats3.txt")
data.stats4 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats4.txt")
data.stats5 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats5.txt")
View(data.stats1)
View(data.stats1)
data.stats6 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats6.txt")
data.stats7 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats7.txt")
data.stats8 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats8.txt")
View(data.stats2)
View(data.stats2)
data.participants <- left_join(data.champs, data.participants, by = c("id" = "championid"))
remove(data.champs)
View(data.teambans)
View(data.teambans)
View(data.teambans)
View(data.teambans)
data.stats <- rbind(data.stats1, data.stats2, data.stats3, data.stats4, data.stats5, data.stats6, data.stats7, data.stats8)
# Ahora ya no me hacen falta stats1 y stats2, los borro del environment
remove(data.stats1)
remove(data.stats2)
remove(data.stats3)
remove(data.stats4)
remove(data.stats5)
remove(data.stats6)
remove(data.stats7)
remove(data.stats8)
object_size(data.matches) # Tabla de 19.1 MB
object_size(data.participants) # Tabla de 19.1 MB
complete.cases(data.matches)
View(data.matches)
View(data.matches)
View(data.participants)
View(data.stats)
View(data.stats)
View(data.participants)
View(data.teambans)
View(data.teambans)
View(data.teamstats)
View(data.teamstats)
na.omit(data.matches)
data.matches[!complete.cases(data.matches),]
data.participants[!complete.cases(data.participants),]
data.stats[!complete.cases(data.stats), ]
data.teambans[!complete.cases(data.teambans), ]
data.teamstats[!complete.cases(data.teamstats), ]
data.matches[!complete.cases(data.matches),]
data.participants[!complete.cases(data.participants),]
data.stats[!complete.cases(data.stats), ]
data.teambans[!complete.cases(data.teambans), ]
data.teamstats[!complete.cases(data.teamstats), ]
print("El tamaño de la tabla de stats es de: ")
object_size(data.stats) # Es un dataset de 558 MB
object_size(data.teambans) # Tabla de 22 MB
object_size(data.teamstats) # Tabla de 19.1 MB
object_size(data.matches) # Tabla de 7.38 MB
object_size(data.participants) # Tabla de 66.1 MB
nueva <- inner_join(data.matches, data.teambans, by="matchid")
nueva <- left_join(data.matches, data.teambans, by="matchid")
clear
nueva <- inner_join(data.matches, data.teambans, by=c("id", "matchid"))
nueva <- inner_join(data.matches, data.teambans, by=c("matchid", "id"))
nueva <- inner_join(data.matches, data.teambans, by=c("id", "matchid"))
library(data.table)
setnames(data.matches, old = "id", new = "matchid")
View(data.matches)
View(data.matches)
nueva <- inner_join(data.matches, data.teambans, by="matchid")
View(nueva)
View(nueva)
data.champs <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/champs.csv")
View(data.champs)
View(data.champs)
setnames(data.champs, old = "id", new = "championid")
nueva <- inner_join(nueva, data.champs, by="championid")
View(nueva)
View(nueva)
setnames(data.matches, old = "id", new = "matchid")
data.match.teamban <- inner_join(data.matches, data.teambans, by="matchid")
data.match.teamban.champ <- inner_join(data.match.teamban, data.champs, by="championid")
remove(nueva)
a <- merge(participants,matches,by.x="matchid",by.y="id")
allstats <- merge(a,stats,by="id")
a <- merge(data.participants,data.matches,by.x="matchid",by.y="matchid")
allstats <- merge(a,stats,by="id")
a <- merge(data.participants,data.matches,by.x="matchid",by.y="matchid")
allstats <- merge(a,data.stats,by="id")
View(allstats)
View(allstats)
knitr::opts_chunk$set(echo = TRUE)
#install.packages("dplyr")
#install.packages("pryr")
library("dplyr")
library("pryr")
data.champs <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/champs.csv")
data.matches <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/matches.csv")
data.participants <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/participants.csv")
data.teambans <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teambans.csv")
data.teamstats <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teamstats.csv")
data.stats1 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats1.txt")
data.stats2 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats2.txt")
data.stats3 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats3.txt")
data.stats4 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats4.txt")
data.stats5 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats5.txt")
data.stats6 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats6.txt")
data.stats7 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats7.txt")
data.stats8 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats8.txt")
data.stats <- rbind(data.stats1, data.stats2, data.stats3, data.stats4, data.stats5, data.stats6, data.stats7, data.stats8)
# Ahora ya no me hacen falta stats1 y stats2, los borro del environment
remove(data.stats1)
remove(data.stats2)
remove(data.stats3)
remove(data.stats4)
remove(data.stats5)
remove(data.stats6)
remove(data.stats7)
remove(data.stats8)
print("El tamaño de la tabla de stats es de: ")
object_size(data.stats) # Es un dataset de 433 MB
print("El tamaño de la tabla de teambans es de: ")
object_size(data.teambans) # Tabla de 17.6 MB
print("El tamaño de la tabla de teamstats es de: ")
object_size(data.teamstats) # Tabla de 19.1 MB
print("El tamaño de la tabla de matches es de: ")
object_size(data.matches) # Tabla de 7.38 MB
print("El tamaño de la tabla de participants es de: ")
object_size(data.participants) # Tabla de 66.1 MB
data.matches[!complete.cases(data.matches),]
data.participants[!complete.cases(data.participants),]
data.stats[!complete.cases(data.stats), ]
data.teambans[!complete.cases(data.teambans), ]
data.teamstats[!complete.cases(data.teamstats), ]
summary(data.champs)
summary(data.matches)
summary(data.matches[, 5:6])
summary(data.participants)
install.packages("jsonlite")
library("jsonlite")
url <- 'http://ddragon.leagueoflegends.com/cdn/6.24.1/data/en_US/summoner.json'
# read url and convert to data.frame
document <- fromJSON(txt=url)
View(document)
View(document)
install.packages("rjson")
library("rjson")
json_file <- "http://ddragon.leagueoflegends.com/cdn/6.24.1/data/en_US/summoner.json"
json_data <- fromJSON(paste(readLines(json_file), collapse=""))
View(json_data)
df <- as.data.frame(document)
install.packages("RJSONIO")
fromJSON("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/items_trinkets.json")
knitr::opts_chunk$set(echo = TRUE)
library("hexbin")
library("RColorBrewer")
mosaicplot(table(data.stats$wardsplaced, data.stats$win), main='Winrate by wards placed', shade=TRUE)
knitr::opts_chunk$set(echo = TRUE)
#install.packages("dplyr")
#install.packages("pryr")
#install.packages("corrplot")
#install.packages("rjson")
#install.packages("plyr")
#install.packages("wordcloud")
#install.packages("ggplot2")
#install.packages("hexbin")
#install.packages("RColorBrewer")
library("corrplot")
library("dplyr")
library("pryr")
library("rjson")
library("plyr")
library("wordcloud")
library("ggplot2")
library("hexbin")
library("RColorBrewer")
data.champs <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/champs.csv")
data.matches <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/matches.csv")
data.participants <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/participants.csv")
data.teambans <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teambans.csv")
data.teamstats <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/teamstats.csv")
data.stats1 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats1.txt")
data.stats2 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats2.txt")
data.stats3 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats3.txt")
data.stats4 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats4.txt")
data.stats5 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats5.txt")
data.stats6 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats6.txt")
data.stats7 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats7.txt")
data.stats8 <- read.csv("C:/Users/jorge/Desktop/Documentos Clase/Universidad/Experto Big Data/TFE/data/stats8.txt")
lista.itemstrinkets <- fromJSON(file = "../data/items_trinkets.json")
lista.spells <- fromJSON(file="../data/spells.json")
# Ahora lo convertimos a dataset
data.stats <- rbind(data.stats1, data.stats2, data.stats3, data.stats4, data.stats5, data.stats6, data.stats7, data.stats8)
# Ahora ya no me hacen falta stats1 y stats2, los borro del environment
remove(data.stats1)
remove(data.stats2)
remove(data.stats3)
remove(data.stats4)
remove(data.stats5)
remove(data.stats6)
remove(data.stats7)
remove(data.stats8)
print("El tamaño de la tabla de stats es de: ")
object_size(data.stats) # Es un dataset de 433 MB
print("El tamaño de la tabla de teambans es de: ")
object_size(data.teambans) # Tabla de 17.6 MB
print("El tamaño de la tabla de teamstats es de: ")
object_size(data.teamstats) # Tabla de 19.1 MB
print("El tamaño de la tabla de matches es de: ")
object_size(data.matches) # Tabla de 7.38 MB
print("El tamaño de la tabla de participants es de: ")
object_size(data.participants) # Tabla de 66.1 MB
data.matches[!complete.cases(data.matches),]
data.participants[!complete.cases(data.participants),]
data.stats[!complete.cases(data.stats), ]
data.teambans[!complete.cases(data.teambans), ]
data.teamstats[!complete.cases(data.teamstats), ]
print("Resumen de data.matches")
summary(data.matches[, 5:6]) # Las únicas columnas interesantes son la 5 y la 6
print("Resumen de data.participants")
summary(data.participants)
print("Resumen de data.stats")
summary(data.stats[, 10:55])
print("Resumen de data.teamstats")
summary(data.teamstats[, 9:13])
data.matches.clean <- data.matches[, c(-1, -2, -3, -4, -7, -8)]
data.participants.clean <- data.participants
data.stats.clean <- data.stats[, -1:-9]
data.teamstats.clean <- data.teamstats[, -1:-8]
res.matches <- cor(data.matches.clean, method = "spearman")
options(width = 100)
res.matches.round <- round(res.matches, 2)
corrplot(res.matches.round, method="circle")
data.stats.clean <- mutate_all(data.stats.clean, function(x) as.numeric(as.character(x)))
res.stats <- cor(data.stats.clean)
options(width = 100)
res.stats.round <- round(res.stats, 2)
corrplot(res.stats.round, method="circle",type = "upper", tl.cex = 0.6)
res.teamstats <- cor(data.teamstats.clean)
options(width = 100)
res.teamstats.round <- round(res.teamstats, 2)
corrplot(res.teamstats.round, method="circle",type = "upper", tl.cex = 0.6)
data.stats.clean <- cbind(data.stats$win, data.stats.clean)
data.stats.clean <- mutate_all(data.stats.clean, function(x) as.numeric(as.character(x)))
res.stats <- cor(data.stats.clean)
options(width = 100)
res.stats.round <- round(res.stats, 2)
corrplot(res.stats.round, method="circle",type = "upper", tl.cex = 0.6)
data.bans.matches <- inner_join(data.teambans, data.matches, by=c("matchid" = "id"))
# Para poder ver los campeones por nombre, ahora uniré esta tabla con data.champs
data.bans.matches <- inner_join(data.bans.matches, data.champs, by = c("championid" = "id"))
# Ahora borro la columna con el número de campepón porque no me hace más falta...
data.bans.matches <- data.bans.matches[, -3]
# Finalmente, voy a borrar también las columnas de creación, versión, queueid y platformid porque tampoco me van a hacer falta nunca
data.bans.matches <- data.bans.matches[, c(-5, -9, -10)]
head(data.bans.matches)
split <- split( data.bans.matches , f = data.bans.matches$seasonid )
# Como solo tenemos 8 seasons, lo hacemos del 1 al 6
datasplit.season3 <- split[[1]]
datasplit.season4 <- split[[2]]
datasplit.season5 <- split[[3]]
datasplit.season6 <- split[[4]]
datasplit.season7 <- split[[5]]
datasplit.season8 <- split[[6]]
dataNombres.season3 <- ddply(datasplit.season3,.(name),nrow)
dataNombres.season3 <- dataNombres.season3[order(dataNombres.season3$V1, decreasing = TRUE), ]
head(dataNombres.season3)
dataNombres.season4 <- ddply(datasplit.season4,.(name),nrow)
dataNombres.season4 <- dataNombres.season4[order(dataNombres.season4$V1, decreasing = TRUE), ]
head(dataNombres.season4)
dataNombres.season5 <- ddply(datasplit.season5,.(name),nrow)
dataNombres.season5 <- dataNombres.season5[order(dataNombres.season5$V1, decreasing = TRUE), ]
head(dataNombres.season5)
dataNombres.season6 <- ddply(datasplit.season6,.(name),nrow)
dataNombres.season6 <- dataNombres.season6[order(dataNombres.season6$V1, decreasing = TRUE), ]
head(dataNombres.season6)
dataNombres.season7 <- ddply(datasplit.season7,.(name),nrow)
dataNombres.season7 <- dataNombres.season7[order(dataNombres.season7$V1, decreasing = TRUE), ]
head(dataNombres.season7)
dataNombres.season8 <- ddply(datasplit.season8,.(name),nrow)
dataNombres.season8 <- dataNombres.season8[order(dataNombres.season8$V1, decreasing = TRUE), ]
head(dataNombres.season3)
set.seed(9999) # Para el mantenimiento del mismo patrón
wordcloud(words = dataNombres.season3$name, freq = dataNombres.season3$V1, min.freq = 1, random.order=FALSE, rot.per=0.5, colors=c("Orange","Purple","Pink", "Red", "Yellow", "Green", "Blue", "Black"))
# Ratio
print("El porcentaje de baneo a Yasuo en la season 3 fue de: ")
ratio.season3 <- dataNombres.season3$V1[1]/sum(dataNombres.season3$V1)
print(ratio.season3)
set.seed(9999)
wordcloud(words = dataNombres.season4$name, freq = dataNombres.season4$V1, min.freq = 1, random.order=FALSE, rot.per=0.5, colors=c("Orange","Purple","Pink", "Red", "Yellow", "Green", "Blue", "Black"))
# Ratio
print("El porcentaje de baneo a Akali en la season 4 fue de: ")
ratio.season4 <- dataNombres.season4$V1[1]/sum(dataNombres.season4$V1)
print(ratio.season4)
set.seed(9999)
wordcloud(words = dataNombres.season5$name, freq = dataNombres.season5$V1, min.freq = 350, random.order=FALSE, rot.per=0.5, colors=c("Orange","Purple","Pink", "Red", "Yellow", "Green", "Blue", "Black")) # He subido el threshold porque si no no cabían todos los importantes en la página
# Ratio
print("El porcentaje de baneo a Darius en la season 5 fue de: ")
ratio.season5 <- dataNombres.season5$V1[1]/sum(dataNombres.season5$V1)
print(ratio.season5)
set.seed(9999)
wordcloud(words = dataNombres.season6$name, freq = dataNombres.season6$V1, min.freq = 1, random.order=FALSE, rot.per=0.5, colors=c("Orange","Purple","Pink", "Red", "Yellow", "Green", "Blue", "Black"))
# Ratio
print("El porcentaje de baneo a Dr.Mundo en la season 6 fue de: ")
ratio.season6 <- dataNombres.season6$V1[1]/sum(dataNombres.season6$V1)
print(ratio.season6)
set.seed(9999)
wordcloud(words = dataNombres.season7$name, freq = dataNombres.season7$V1, min.freq = 1, random.order=FALSE, rot.per=0.5, colors=c("Orange","Purple","Pink", "Red", "Yellow", "Green", "Blue", "Black"))
# Ratio
print("El porcentaje de baneo a Zed en la season 7 fue de: ")
ratio.season7 <- dataNombres.season7$V1[1]/sum(dataNombres.season7$V1)
print(ratio.season7)
set.seed(9999) # Para el mantenimiento del mismo patrón
wordcloud(words = dataNombres.season8$name, freq = dataNombres.season8$V1, min.freq = 1, random.order=FALSE, rot.per=0.5, colors=c("Orange","Purple","Pink", "Red", "Yellow", "Green", "Blue", "Black"))
# Ratio
print("El porcentaje de baneo a Yasuo en la season 8 fue de: ")
ratio.season8 <- dataNombres.season8$V1[1]/sum(dataNombres.season8$V1)
print(ratio.season8)
mosaicplot(table(data.stats$wardsplaced, data.stats$win), main='Winrate by wards placed', shade=TRUE)
rf <- colorRampPalette(rev(brewer.pal(4,'Spectral')))
df <- data.frame(data.stats$wardsplaced, data.stats$win)
h <- hexbin(df)
plot(h, colramp=rf, xlab="Agresivo", ylab="Impulsivo", main="Agresivo Vs Impulsivo")
range(data.stats$wardsplaced)
range(data.stats$win)
mean(data.stats$wardsplaced)
cor(data.stats$wardsplaced, data.stats$win)
